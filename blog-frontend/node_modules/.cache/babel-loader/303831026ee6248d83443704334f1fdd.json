{"ast":null,"code":"import { createAction, handleActions } from 'redux-actions';\nimport { Map } from 'immutable';\nimport { pender } from 'redux-pender';\nimport * as api from 'lib/api'; // action types\n\nconst INITIALIZE = 'editor/INITIALIZE';\nconst CHANGE_INPUT = 'editor/CHANGE_INPUT';\nconst WRITE_POST = 'editor/WRITE_POST';\nconst GET_POST = 'editor/GET_POST';\nconst EDIT_POST = 'editor/EDIT_POST'; // action creators\n\nexport const initialize = createAction(INITIALIZE);\nexport const changeInput = createAction(CHANGE_INPUT);\nexport const writePost = createAction(WRITE_POST, api.writePost);\nexport const getPost = createAction(GET_POST, api.getPost);\nexport const editPost = createAction(EDIT_POST, api.editPost); // initial state\n\nconst initialState = Map({\n  title: '',\n  markdown: '',\n  tags: '',\n  postId: null\n}); // reducer\n\nexport default handleActions({\n  [INITIALIZE]: (state, action) => initialState,\n  [CHANGE_INPUT]: (state, action) => {\n    const {\n      name,\n      value\n    } = action.payload;\n    return state.set(name, value);\n  },\n  ...pender({\n    type: WRITE_POST,\n    onSuccess: (state, action) => {\n      const {\n        _id\n      } = action.payload.data;\n      return state.set('postId', _id);\n    }\n  }),\n  ...pender({\n    type: GET_POST,\n    onSuccess: (state, action) => {\n      const {\n        title,\n        tags,\n        body\n      } = action.payload.data;\n      return state.set('title', title).set('markdown', body).set('tags', tags.join(', ')); // 배역-> ,로 구분된 문자열\n    }\n  })\n}, initialState);","map":{"version":3,"sources":["D:/문서/개발/react/blog/blog-frontend/src/store/modules/editor.js"],"names":["createAction","handleActions","Map","pender","api","INITIALIZE","CHANGE_INPUT","WRITE_POST","GET_POST","EDIT_POST","initialize","changeInput","writePost","getPost","editPost","initialState","title","markdown","tags","postId","state","action","name","value","payload","set","type","onSuccess","_id","data","body","join"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,aAAvB,QAA4C,eAA5C;AAEA,SAASC,GAAT,QAAoB,WAApB;AACA,SAASC,MAAT,QAAuB,cAAvB;AAEA,OAAO,KAAKC,GAAZ,MAAqB,SAArB,C,CAGA;;AACA,MAAMC,UAAU,GAAG,mBAAnB;AACA,MAAMC,YAAY,GAAG,qBAArB;AAEA,MAAMC,UAAU,GAAG,mBAAnB;AACA,MAAMC,QAAQ,GAAE,iBAAhB;AACA,MAAMC,SAAS,GAAG,kBAAlB,C,CAEA;;AACA,OAAO,MAAMC,UAAU,GAAGV,YAAY,CAACK,UAAD,CAA/B;AACP,OAAO,MAAMM,WAAW,GAAGX,YAAY,CAACM,YAAD,CAAhC;AAEP,OAAO,MAAMM,SAAS,GAAGZ,YAAY,CAACO,UAAD,EAAaH,GAAG,CAACQ,SAAjB,CAA9B;AACP,OAAO,MAAMC,OAAO,GAAGb,YAAY,CAACQ,QAAD,EAAWJ,GAAG,CAACS,OAAf,CAA5B;AACP,OAAO,MAAMC,QAAQ,GAAGd,YAAY,CAACS,SAAD,EAAYL,GAAG,CAACU,QAAhB,CAA7B,C,CAEP;;AACA,MAAMC,YAAY,GAAGb,GAAG,CAAC;AACrBc,EAAAA,KAAK,EAAE,EADc;AAErBC,EAAAA,QAAQ,EAAE,EAFW;AAGrBC,EAAAA,IAAI,EAAE,EAHe;AAIrBC,EAAAA,MAAM,EAAE;AAJa,CAAD,CAAxB,C,CAQA;;AACA,eAAelB,aAAa,CAAC;AACzB,GAACI,UAAD,GAAc,CAACe,KAAD,EAAQC,MAAR,KAAmBN,YADR;AAEzB,GAACT,YAAD,GAAgB,CAACc,KAAD,EAAQC,MAAR,KAAmB;AAC/B,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBF,MAAM,CAACG,OAA/B;AACA,WAAOJ,KAAK,CAACK,GAAN,CAAUH,IAAV,EAAgBC,KAAhB,CAAP;AACH,GALwB;AAMzB,KAAGpB,MAAM,CAAC;AACNuB,IAAAA,IAAI,EAAEnB,UADA;AAENoB,IAAAA,SAAS,EAAE,CAACP,KAAD,EAAQC,MAAR,KAAmB;AAC1B,YAAM;AAAEO,QAAAA;AAAF,UAAUP,MAAM,CAACG,OAAP,CAAeK,IAA/B;AACA,aAAOT,KAAK,CAACK,GAAN,CAAU,QAAV,EAAoBG,GAApB,CAAP;AACH;AALK,GAAD,CANgB;AAazB,KAAGzB,MAAM,CAAC;AACNuB,IAAAA,IAAI,EAAElB,QADA;AAENmB,IAAAA,SAAS,EAAE,CAACP,KAAD,EAAQC,MAAR,KAAmB;AAC1B,YAAM;AAAEL,QAAAA,KAAF;AAASE,QAAAA,IAAT;AAAeY,QAAAA;AAAf,UAAwBT,MAAM,CAACG,OAAP,CAAeK,IAA7C;AACA,aAAOT,KAAK,CAACK,GAAN,CAAU,OAAV,EAAmBT,KAAnB,EACMS,GADN,CACU,UADV,EACsBK,IADtB,EAEML,GAFN,CAEU,MAFV,EAEkBP,IAAI,CAACa,IAAL,CAAU,IAAV,CAFlB,CAAP,CAF0B,CAIiB;AAC9C;AAPK,GAAD;AAbgB,CAAD,EAsBzBhB,YAtByB,CAA5B","sourcesContent":["import { createAction, handleActions } from 'redux-actions';\r\n\r\nimport { Map } from 'immutable';\r\nimport { pender } from 'redux-pender';\r\n\r\nimport * as api from 'lib/api';\r\n\r\n\r\n// action types\r\nconst INITIALIZE = 'editor/INITIALIZE';\r\nconst CHANGE_INPUT = 'editor/CHANGE_INPUT';\r\n\r\nconst WRITE_POST = 'editor/WRITE_POST';\r\nconst GET_POST ='editor/GET_POST';\r\nconst EDIT_POST = 'editor/EDIT_POST';\r\n\r\n// action creators\r\nexport const initialize = createAction(INITIALIZE);\r\nexport const changeInput = createAction(CHANGE_INPUT);\r\n\r\nexport const writePost = createAction(WRITE_POST, api.writePost);\r\nexport const getPost = createAction(GET_POST, api.getPost);\r\nexport const editPost = createAction(EDIT_POST, api.editPost);\r\n\r\n// initial state\r\nconst initialState = Map({\r\n    title: '',\r\n    markdown: '',\r\n    tags: '',\r\n    postId: null\r\n\r\n});\r\n\r\n// reducer\r\nexport default handleActions({\r\n    [INITIALIZE]: (state, action) => initialState,\r\n    [CHANGE_INPUT]: (state, action) => {\r\n        const { name, value } = action.payload;\r\n        return state.set(name, value);\r\n    },\r\n    ...pender({\r\n        type: WRITE_POST,\r\n        onSuccess: (state, action) => {\r\n            const { _id } = action.payload.data;\r\n            return state.set('postId', _id);\r\n        }\r\n    }),\r\n    ...pender({\r\n        type: GET_POST,\r\n        onSuccess: (state, action) => {\r\n            const { title, tags, body } = action.payload.data;\r\n            return state.set('title', title)\r\n                        .set('markdown', body)\r\n                        .set('tags', tags.join(', ')); // 배역-> ,로 구분된 문자열\r\n        }\r\n    })\r\n}, initialState)"]},"metadata":{},"sourceType":"module"}